<div class="top-container" *ngIf="!loading">

    <div>
      Stock price: {{ stockPrice | currency }}

      <table class="table">
        <thead>
          <tr>
            <th>Call Vol</th>
            <th>Put Vol</th>
            <th>Call Spend</th>
            <th>Put Spend</th>
            <th>Call Price</th>
            <th>Put Price</th>
          </tr>
        </thead>
        <tr>
          <td>{{breakdown.callVolume}}</td>
          <td>{{breakdown.putVolume}}</td>
          <td>{{breakdown.callSpend | currency }}</td>
          <td>{{breakdown.putSpend | currency }}</td>
          <td>{{breakdown.priceBasedOnCalls | currency }}</td>
          <td>{{breakdown.priceBasedOnPuts | currency }}</td>
        </tr>
      </table>
    </div>


    <div class="form-group">
      <label for="expirationSelect">Expiration</label>&nbsp;&nbsp;
      <select [(ngModel)]="expirationSelection" id="expirationSelect" name="expirationSelect" (ngModelChange)="onExpirationChange($event)">
        <option value=""></option>
        <option value="{{expiration}}" *ngFor="let expiration of expirations">{{expiration}}</option>
      </select>

      &nbsp;&nbsp;<label for="sideSelect">Side</label>&nbsp;&nbsp;
      <select [(ngModel)]="sideSelection" id="sideSelect" name="sideSelect" (ngModelChange)="onSideChange($event)">
        <option value=""></option>
        <option value="call">call</option>
        <option value="put">put</option>
      </select>

      &nbsp;&nbsp;<label for="minBid">Min Bid Price</label>&nbsp;&nbsp;
      <input type="number" id="minBid" name="minBid" [(ngModel)]="minBid" (ngModelChange)="onMinBidChange()" />
    </div>

    <div class="form-group">
      <label for="minStrikePrice">Min Strike Price</label>&nbsp;&nbsp;
      <input type="number" id="minStrikePrice" name="minStrikePrice" [(ngModel)]="minStrikePrice" (ngModelChange)="onMinStrikePriceChange()" />

      &nbsp;&nbsp;<label for="maxStrikePrice">Max Strike Price</label>&nbsp;&nbsp;
      <input type="number" id="maxStrikePrice" name="maxStrikePrice" [(ngModel)]="maxStrikePrice" (ngModelChange)="onMaxStrikePriceChange()" />
    </div>

    <div *ngFor="let expiration of expirationMap">

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Expiration</th>
            <th>Strike price</th>
            <th>Side</th>
            <th>Open interest</th>
            <th>Volume</th>
            <th>Bid</th>
            <th>Ask</th>
            <th>Spread</th>
            <th>PDP</th>
            <th>Risk</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let option of expiration">
            <td>{{option.expirationDate}}</td>
            <td>{{option.strikePrice | currency}} <small>{{option.breakEven | currency }}</small></td>
            <td>{{option.side}}</td>
            <td>{{option.openInterest}}</td>
            <td>{{option.volume}}</td>
            <td>{{option.bid * 100 | currency}}</td>
            <td>{{option.ask * 100 | currency}}</td>
            <td>{{option.spread | currency}}</td>
            <td>{{option.perDayPrice | currency}}</td>
            <td>{{option.risk | percent}}</td>
          </tr>
        </tbody>
      </table>

    </div>

</div>

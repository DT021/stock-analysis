<div *ngIf="loaded" class="top-container">
	
	<button class="btn btn-primary dashboard-button" (click)="goToDashboard()">Back to Dashboard</button>
	<button class="btn btn-secondary dashboard-button" (click)="buyStock()">Buy</button>
	
	<div>
		<label>{{stock.profile.companyName}}</label> - {{stock.profile.industry}}/{{stock.profile.sector}}
		<div>
			Ticker {{stock.ticker}}, <a href="https://robinhood.com/stocks/{{stock.ticker}}" target="_blank">link on robinhood</a> <br />
		</div>
	<div>
		<label>Price information</label>
		<div>
			Priced at <b>${{stock.price}}</b> with largest gain of {{stock.largestGain}}% and largest loss of {{stock.largestLoss}}%
		</div>
	</div>
	<div>
		<label>Ratings</label>
		<div *ngIf="stock.ratings.details">
			Overall {{stock.ratings.rating.recommendation}}
			<table>
				<thead>
					<th align="middle" width="100" *ngFor="let r of stock.ratings.details">{{r.name}}</th>
				</thead>
				<tbody>
					<tr>
						<td *ngFor="let r of stock.ratings.details">{{r.rating.recommendation}}</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div *ngIf="!stock.ratings.details">No rating information available</div>
	</div>

	<div>
		<label>Ratios</label>
		<div>
			Book value of {{stock.bookValue}} with P/E ratio of {{stock.peValue}} (information is {{stock.age}} months old)
		</div>
	</div>
	
	<div>
		<label>Charts</label>
		<div>
			<google-chart style="width: 100%;" [type]="priceChartType" [data]="priceChartData" [options]="priceOptions"></google-chart>
		</div>
		<div>
			<google-chart style="width: 100%;" [type]="priceChartType" [data]="volumeChartData" [options]="volumeOptions"></google-chart>
		</div>
		<div>
			<google-chart style="width: 100%;" [type]="priceChartType" [data]="bookChartData" [options]="bookOptions"></google-chart>
		</div>
		<div>
			<google-chart style="width: 100%;" [type]="priceChartType" [data]="peChartData" [options]="peOptions"></google-chart>
		</div>
	</div>
</div>

<div *ngIf="!loaded">
	Fetching stock information...
</div>